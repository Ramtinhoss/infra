// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.4.1 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"/9g7YC0cUwAA",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
